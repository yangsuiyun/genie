# ğŸ… Pomodoro Genie Development Guidelines

Auto-generated from all feature plans. Last updated: 2025-10-05

## ğŸ”§ Active Technologies (Current Implementation)
- **Frontend**: Flutter 3.24.3 (Dart 3.5+)
- **Backend**: Go 1.21+ with Gin framework
- **Database**: PostgreSQL 15 (via Docker)
- **Cache**: Redis 7 (via Docker)
- **State Management**: Singleton pattern (PomodoroState, AppSettings)
- **Web**: Enhanced HTML/CSS/JavaScriptå®ç° (å®Œå…¨é›†æˆçš„ç•ªèŒ„é’Ÿåº”ç”¨)
- **Deployment**: Docker Compose + Nginx

## ğŸ“ Project Structure
```
pomodoro-genie/
â”œâ”€â”€ backend/                 # Go APIæœåŠ¡
â”‚   â”œâ”€â”€ main.go             # APIå…¥å£
â”‚   â””â”€â”€ go.mod              # Goä¾èµ–
â”œâ”€â”€ mobile/                 # Flutteråº”ç”¨
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ main.dart       # åº”ç”¨å…¥å£å’ŒçŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ settings.dart   # å…¨åŠŸèƒ½è®¾ç½®ç³»ç»Ÿ
â”‚   â”œâ”€â”€ build/web/          # Webæ„å»ºæ–‡ä»¶
â”‚   â”‚   â””â”€â”€ index.html      # å®Œæ•´çš„ç•ªèŒ„é’ŸWebåº”ç”¨ (34KB)
â”‚   â”œâ”€â”€ web/                # Webéƒ¨ç½²æ–‡ä»¶
â”‚   â””â”€â”€ pubspec.yaml        # Flutterä¾èµ–
â”œâ”€â”€ docker-compose.yml      # å¼€å‘ç¯å¢ƒé…ç½®
â”œâ”€â”€ start-pomodoro.sh       # ä¸€é”®å¯åŠ¨è„šæœ¬
â””â”€â”€ stop-pomodoro.sh        # åœæ­¢æœåŠ¡è„šæœ¬
```

## ğŸš€ Essential Commands

### å¿«é€Ÿå¯åŠ¨ï¼ˆæ¨èï¼‰
```bash
# ä¸€é”®å¯åŠ¨æ‰€æœ‰æœåŠ¡
bash start-pomodoro.sh

# åœæ­¢æ‰€æœ‰æœåŠ¡
bash stop-pomodoro.sh
```

### å¼€å‘ç¯å¢ƒ
```bash
# å¯åŠ¨æ•°æ®åº“æœåŠ¡
docker-compose up -d

# å¯åŠ¨Goåç«¯API (ç«¯å£8081)
cd backend && go run main.go

# å¯åŠ¨Flutter Web (ç«¯å£3001) æˆ– é™æ€WebæœåŠ¡å™¨ (ç«¯å£3002)
cd mobile && flutter run -d web-server --web-port 3001 --web-hostname 0.0.0.0
# æˆ–è€…å¯åŠ¨é™æ€WebæœåŠ¡å™¨
cd mobile/build/web && python3 -m http.server 3002

# æ„å»ºFlutter Webå‘å¸ƒç‰ˆ
cd mobile && flutter build web --release
```

### æµ‹è¯•å‘½ä»¤
```bash
# Flutteræµ‹è¯•
cd mobile && flutter test

# Goæµ‹è¯•
cd backend && go test ./...

# æ£€æŸ¥ä»£ç æ ¼å¼
cd mobile && flutter analyze
cd backend && go fmt ./...
```

### æ„å»ºå‘½ä»¤
```bash
# æ„å»ºæ‰€æœ‰å¹³å°
cd mobile && flutter build web --release
cd mobile && flutter build apk --release
cd backend && go build -o pomodoro-api main.go
```

## ğŸ¨ Code Style
- **Flutter**: éµå¾ªå®˜æ–¹Darté£æ ¼æŒ‡å—
- **Go**: ä½¿ç”¨gofmtå’Œgolint
- **çŠ¶æ€ç®¡ç†**: ä½¿ç”¨Singletonæ¨¡å¼ï¼Œé¿å…å…¨å±€å˜é‡
- **UIç»„ä»¶**: Material Design 3
- **å‘½å**: ä½¿ç”¨è‹±æ–‡å‘½åå˜é‡å’Œå‡½æ•°ï¼Œä¸­æ–‡ç”¨äºUIæ–‡æœ¬

## ğŸ“Š Implementation Status (45% Complete)

### âœ… Completed Features
- **åŸºç¡€UIæ¡†æ¶**: å››ä¸ªä¸»è¦ç•Œé¢ï¼ˆç•ªèŒ„é’Ÿã€ä»»åŠ¡ã€æŠ¥å‘Šã€è®¾ç½®ï¼‰
- **è®¡æ—¶å™¨æ ¸å¿ƒ**: å®Œæ•´çš„ç•ªèŒ„é’ŸåŠŸèƒ½ (mobile/build/web/index.html)
  - å¯è‡ªå®šä¹‰å·¥ä½œæ—¶é•¿ã€çŸ­ä¼‘æ¯ã€é•¿ä¼‘æ¯æ—¶é—´ (1-60åˆ†é’Ÿ)
  - é•¿ä¼‘æ¯é—´éš”ç®¡ç† (1-10ä¸ªç•ªèŒ„é’Ÿ)
  - å®æ—¶å€’è®¡æ—¶æ˜¾ç¤ºå’ŒçŠ¶æ€åˆ‡æ¢
  - ä¼‘æ¯å»ºè®®å’Œæ‰‹åŠ¨æ§åˆ¶
- **ä»»åŠ¡å…³è”ç³»ç»Ÿ**: ä»»åŠ¡ä¸ç•ªèŒ„é’Ÿçš„å®Œæ•´é›†æˆ
  - å½“å‰ä»»åŠ¡å¡ç‰‡æ˜¾ç¤º (ä»»åŠ¡åç§°ã€æè¿°ã€ç»Ÿè®¡)
  - å®æ—¶è¿›åº¦è¿½è¸ªå’Œç•ªèŒ„é’Ÿå®ŒæˆæŒ‡ç¤ºå™¨
  - ä»»åŠ¡é€‰æ‹©å’Œåˆ‡æ¢ç•Œé¢
  - è‡ªç”±ç•ªèŒ„é’Ÿæ¨¡å¼ (æ— ä»»åŠ¡å…³è”)
- **è®¾ç½®ç³»ç»Ÿ**: å®Œæ•´çš„ç”¨æˆ·åå¥½é…ç½®
  - ç•ªèŒ„é’Ÿæ—¶é•¿è®¾ç½® (å·¥ä½œ/çŸ­ä¼‘æ¯/é•¿ä¼‘æ¯/é—´éš”)
  - é€šçŸ¥è®¾ç½® (å£°éŸ³æé†’/æ¡Œé¢é€šçŸ¥å¼€å…³)
  - ä¸»é¢˜å’Œç•Œé¢è‡ªå®šä¹‰è®¾ç½®
- **ä¸»é¢˜æ”¯æŒ**: 5ç§é¢œè‰²ä¸»é¢˜ + è‡ªåŠ¨æ¢è‰²
  - ç•ªèŒ„çº¢ã€å¤©ç©ºè“ã€æ£®æ—ç»¿ã€è–°è¡£è‰ç´«ã€æ´»åŠ›æ©™
  - å®æ—¶ä¸»é¢˜åˆ‡æ¢å’Œé¢„è§ˆ
  - è‡ªåŠ¨æ¢è‰²åŠŸèƒ½
- **ä»»åŠ¡ç®¡ç†**: åŸºç¡€ä»»åŠ¡CRUDæ“ä½œ
  - ä»»åŠ¡åˆ›å»ºï¼ˆåç§°+æè¿°ï¼‰ã€ç¼–è¾‘ã€åˆ é™¤
  - ä»»åŠ¡åˆ—è¡¨æ˜¾ç¤ºå’Œç®¡ç†
  - ä»»åŠ¡çŠ¶æ€è¿½è¸ªï¼ˆå®Œæˆçš„ç•ªèŒ„é’Ÿæ•°é‡ï¼‰
- **APIæ¶æ„**: RESTful APIç»“æ„å’Œç«¯ç‚¹ (backend/main.go)

### ğŸŸ¡ Partially Implemented (35% Remaining)
- **æ•°æ®æŒä¹…åŒ–**: å†…å­˜å­˜å‚¨å®ç°ï¼Œéœ€è¦æ•°æ®åº“é›†æˆ
- **é€šçŸ¥ç³»ç»Ÿ**: UIè®¾ç½®å®Œæˆï¼Œéœ€è¦å®é™…é€šçŸ¥é€»è¾‘
- **æŠ¥å‘Šç»Ÿè®¡**: é™æ€ç¤ºä¾‹å±•ç¤ºï¼Œéœ€è¦çœŸå®æ•°æ®åˆ†æ
- **ä»»åŠ¡åŠŸèƒ½**: åŸºç¡€CRUDå®Œæˆï¼Œç¼ºå°‘å­ä»»åŠ¡ã€åˆ°æœŸæ—¥æœŸã€é‡å¤ä»»åŠ¡

### âŒ Missing Features (20% Remaining)
- **ç”¨æˆ·è®¤è¯**: æ— çœŸå®ç™»å½•/æ³¨å†Œç³»ç»Ÿ (ä»£ç å·²å‡†å¤‡)
- **æ•°æ®åŒæ­¥**: æ— å¤šè®¾å¤‡åŒæ­¥ã€ç¦»çº¿å­˜å‚¨
- **é«˜çº§ä»»åŠ¡**: å­ä»»åŠ¡ã€æ ‡ç­¾ã€ä¼˜å…ˆçº§ç³»ç»Ÿ
- **è·¨å¹³å°**: ä»…Webç‰ˆæœ¬ï¼Œç¼ºå°‘ç§»åŠ¨ç«¯åº”ç”¨

## ğŸš§ Development Roadmap

### Phase 1: Data Foundation (Priority 1)
1. **Database Setup**: é›†æˆPostgreSQL + Redis
2. **User Authentication**: JWTè®¤è¯ç³»ç»Ÿ
3. **Data Models**: User, Task, PomodoroSession, Noteç­‰æ¨¡å‹

### Phase 2: Core Features (Priority 2)
1. **Task Management**: å®Œæ•´CRUD + å­ä»»åŠ¡ + é‡å¤ä»»åŠ¡
2. **Notification System**: æ¨é€é€šçŸ¥ + å£°éŸ³æé†’
3. **Notes System**: ä»»åŠ¡å¤‡æ³¨åŠŸèƒ½

### Phase 3: Advanced Features (Priority 3)
1. **Multi-device Sync**: æ•°æ®åŒæ­¥ + å†²çªè§£å†³
2. **Analytics**: çœŸå®æ•°æ®ç»Ÿè®¡å’ŒæŠ¥å‘Š
3. **Cross-platform**: iOS/Android/Desktopæ„å»º

## ğŸš§ Next Priority Features (æ•°æ®æŒä¹…åŒ–ä¼˜å…ˆ)

### Phase 1: æ•°æ®æŒä¹…åŒ– (ä¼˜å…ˆçº§æœ€é«˜)
1. âœ… **çœŸå®ä»»åŠ¡ç®¡ç†**: å®Œæ•´çš„ä»»åŠ¡CRUDæ“ä½œ
2. âœ… **è®¡æ—¶å™¨é›†æˆ**: ä»»åŠ¡ä¸ç•ªèŒ„é’Ÿå®Œå…¨å…³è”
3. ğŸš§ **æœ¬åœ°å­˜å‚¨**: å®ç°localStorageæ•°æ®æŒä¹…åŒ–
4. ğŸš§ **åŸºç¡€é€šçŸ¥**: è®¡æ—¶å™¨å®Œæˆæ—¶çš„æµè§ˆå™¨é€šçŸ¥

### Phase 2: æ•°æ®åˆ†æå’Œä¼˜åŒ–
1. **çœŸå®æŠ¥å‘Š**: åŸºäºå®é™…ä½¿ç”¨æ•°æ®çš„ç»Ÿè®¡åˆ†æ
2. **æ•°æ®å¯¼å…¥å¯¼å‡º**: JSONæ ¼å¼çš„æ•°æ®å¤‡ä»½å’Œæ¢å¤
3. **ç¦»çº¿åŠŸèƒ½**: å®Œå…¨æ— ç½‘ç»œæ—¶çš„ä½¿ç”¨ä½“éªŒ
4. **æ€§èƒ½ä¼˜åŒ–**: å¤§é‡æ•°æ®æ—¶çš„æ¸²æŸ“ä¼˜åŒ–

### Phase 3: é«˜çº§åŠŸèƒ½
1. **é«˜çº§ä»»åŠ¡**: å­ä»»åŠ¡ã€é‡å¤ä»»åŠ¡ã€æ ‡ç­¾ç³»ç»Ÿ
2. **ç”¨æˆ·è®¤è¯**: JWTç™»å½•ç³»ç»Ÿ (ä»£ç å·²å‡†å¤‡)
3. **æ•°æ®åŒæ­¥**: å¤šè®¾å¤‡é—´çš„æ•°æ®åŒæ­¥
4. **è·¨å¹³å°**: iOS/Android/Desktopåº”ç”¨

## ğŸ“‹ Recent Changes
- 2025-10-05: ğŸ¨ å®Œæˆå®Œæ•´è®¾ç½®ç³»ç»Ÿé‡æ„ (mobile/build/web/index.html)
  - æ·»åŠ æ‰€æœ‰ç•ªèŒ„é’Ÿæ—¶é•¿è®¾ç½® (å·¥ä½œ/çŸ­ä¼‘æ¯/é•¿ä¼‘æ¯/é—´éš”)
  - å®ç°é€šçŸ¥è®¾ç½®å¼€å…³ (å£°éŸ³/æ¡Œé¢é€šçŸ¥)
  - å®Œå–„ä¸»é¢˜é€‰æ‹©å’Œè‡ªåŠ¨æ¢è‰²åŠŸèƒ½
- 2025-10-05: ğŸ”— å®ç°ä»»åŠ¡-ç•ªèŒ„é’Ÿå…³è”å¢å¼º
  - å½“å‰ä»»åŠ¡å¡ç‰‡æ˜¾ç¤ºå’Œè¿›åº¦è¿½è¸ª
  - ä»»åŠ¡é€‰æ‹©ç•Œé¢å’Œåˆ‡æ¢åŠŸèƒ½
  - ç•ªèŒ„é’Ÿå®ŒæˆæŒ‡ç¤ºå™¨å’Œç»Ÿè®¡
- 2025-10-05: ğŸ› ä¿®å¤6ä¸ªå…³é”®UI Bug
  - ä»»åŠ¡è‡ªå®šä¹‰åŠŸèƒ½ã€ä¸»é¢˜é¢œè‰²åº”ç”¨ã€è®¡æ—¶å™¨æ˜¾ç¤ºç­‰
- 2025-10-05: ğŸ”§ åˆ›å»ºJWTè®¤è¯å’Œä»»åŠ¡ç®¡ç†æœåŠ¡ (backend/internal/services/)
- 2025-10-05: ğŸ“Š å°†é¡¹ç›®å®Œæˆåº¦ä»25%æå‡åˆ°45%
- 2025-10-04: å®ç°å…¨åŠŸèƒ½è®¾ç½®ç³»ç»Ÿ (settings.dart)
- 2025-10-04: ä¿®å¤è®¡æ—¶å™¨å®æ—¶æ›´æ–°å’ŒçŠ¶æ€æŒä¹…åŒ–
- 2025-10-04: æ·»åŠ 5ç§ä¸»é¢˜é¢œè‰²æ”¯æŒ
- 2025-10-03: å®Œæˆé¡¹ç›®åˆå§‹æ¶æ„è®¾ç½®

<!-- MANUAL ADDITIONS START -->
<!-- MANUAL ADDITIONS END -->
