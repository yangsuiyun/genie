# ğŸ§ Genie é¡¹ç›®å¼€å‘è§„åˆ™

## é¡¹ç›®æ¦‚è¿°
Genie æ˜¯ä¸€ä¸ªæ™ºèƒ½æ•ˆèƒ½æå‡å·¥å…·ï¼Œé‡‡ç”¨ç°ä»£åŒ–å…¨æ ˆæŠ€æœ¯æ„å»ºï¼š
- **å‰ç«¯**ï¼šVue 3 + TypeScript + Vite + Element Plus
- **åç«¯**ï¼šGo + Gin + GORM + PostgreSQL + Redis
- **æ ¸å¿ƒåŠŸèƒ½**ï¼šç•ªèŒ„é’Ÿã€é¡¹ç›®ç®¡ç†ã€å¤šç»ˆç«¯åŒæ­¥
- **ç›®æ ‡**ï¼šè·¨å¹³å°æ¡Œé¢åº”ç”¨ + Webåº”ç”¨

## ğŸ›  æŠ€æœ¯æ ˆè§„èŒƒ

### åç«¯ (Go)
- **æ¡†æ¶**ï¼šGin webæ¡†æ¶
- **ORM**ï¼šGORM v2
- **æ•°æ®åº“**ï¼šPostgreSQL (ä¸») + Redis (ç¼“å­˜)
- **è®¤è¯**ï¼šJWT + bcrypt
- **é…ç½®**ï¼šViperé…ç½®ç®¡ç†
- **æ—¥å¿—**ï¼šlogrusç»“æ„åŒ–æ—¥å¿—
- **æµ‹è¯•**ï¼šGoæ ‡å‡†testing + testify

#### Goä»£ç è§„èŒƒ
```go
// åŒ…å‘½åï¼šå…¨å°å†™ï¼Œç®€çŸ­æœ‰æ„ä¹‰
package pomodoro

// ç»“æ„ä½“ï¼šPascalCase
type PomodoroSession struct {
    ID        uint      `json:"id" gorm:"primaryKey"`
    Duration  int       `json:"duration"`
    CreatedAt time.Time `json:"createdAt"`
}

// æ¥å£ï¼šä»¥erç»“å°¾æˆ–æè¿°æ€§åç§°
type SessionManager interface {
    CreateSession(duration int) (*PomodoroSession, error)
}

// å‡½æ•°/æ–¹æ³•ï¼šPascalCaseï¼ˆå¯¼å‡ºï¼‰camelCaseï¼ˆç§æœ‰ï¼‰
func (s *SessionService) CreateSession(ctx context.Context, req *CreateSessionRequest) error {
    // å®ç°...
}

// å¸¸é‡ï¼šå…¨å¤§å†™ä¸‹åˆ’çº¿åˆ†éš”
const (
    DEFAULT_POMODORO_DURATION = 25 * 60 // 25åˆ†é’Ÿ
    SHORT_BREAK_DURATION      = 5 * 60  // 5åˆ†é’Ÿ
)

// é”™è¯¯å¤„ç†ï¼šä½¿ç”¨erroråŒ…è£…
if err != nil {
    return fmt.Errorf("failed to create session: %w", err)
}
```

### å‰ç«¯ (Vue 3)
- **æ¡†æ¶**ï¼šVue 3 Composition API
- **è¯­è¨€**ï¼šTypeScript ä¸¥æ ¼æ¨¡å¼
- **æ„å»º**ï¼šVite
- **UIåº“**ï¼šElement Plus + Tailwind CSS
- **çŠ¶æ€ç®¡ç†**ï¼šPinia
- **è·¯ç”±**ï¼šVue Router 4
- **HTTPå®¢æˆ·ç«¯**ï¼šAxios
- **æµ‹è¯•**ï¼šVitest + Vue Test Utils

#### Vueä»£ç è§„èŒƒ
```typescript
// ç»„ä»¶å‘½åï¼šPascalCase
<template>
  <div class="pomodoro-timer">
    <!-- ä½¿ç”¨kebab-caseå±æ€§ -->
    <el-button :disabled="is-running" @click="startTimer">
      {{ buttonText }}
    </el-button>
  </div>
</template>

<script setup lang="ts">
// æ¥å£å®šä¹‰ï¼šPascalCase
interface PomodoroState {
  duration: number
  isRunning: boolean
  currentTime: number
}

// ç»„åˆå¼å‡½æ•°ï¼šuseå¼€å¤´ï¼ŒcamelCase
const { startTimer, stopTimer, isRunning } = usePomodoro()

// å“åº”å¼å˜é‡ï¼šcamelCase
const buttonText = computed(() => 
  isRunning.value ? 'æš‚åœ' : 'å¼€å§‹'
)
</script>

<style scoped>
/* CSSç±»ï¼škebab-case */
.pomodoro-timer {
  @apply flex flex-col items-center space-y-4;
}
</style>
```

## ğŸ“ é¡¹ç›®ç»“æ„è§„èŒƒ

```
genie/
â”œâ”€â”€ backend/                 # Goåç«¯
â”‚   â”œâ”€â”€ cmd/                # å¯æ‰§è¡Œæ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ server/         # WebæœåŠ¡å™¨
â”‚   â”‚   â””â”€â”€ migrate/        # æ•°æ®åº“è¿ç§»å·¥å…·
â”‚   â”œâ”€â”€ internal/           # ç§æœ‰åŒ…
â”‚   â”‚   â”œâ”€â”€ api/           # APIè·¯ç”±å’Œå¤„ç†å™¨
â”‚   â”‚   â”œâ”€â”€ auth/          # è®¤è¯æˆæƒ
â”‚   â”‚   â”œâ”€â”€ config/        # é…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ database/      # æ•°æ®åº“è¿æ¥
â”‚   â”‚   â”œâ”€â”€ models/        # æ•°æ®æ¨¡å‹
â”‚   â”‚   â””â”€â”€ services/      # ä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ pkg/               # å…¬å…±åŒ…
â”‚   â”‚   â”œâ”€â”€ logger/        # æ—¥å¿—å·¥å…·
â”‚   â”‚   â”œâ”€â”€ middleware/    # ä¸­é—´ä»¶
â”‚   â”‚   â””â”€â”€ utils/         # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ migrations/        # SQLè¿ç§»æ–‡ä»¶
â”‚   â””â”€â”€ configs/           # é…ç½®æ–‡ä»¶
â”œâ”€â”€ frontend/              # Vueå‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/    # ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ common/    # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ pomodoro/  # ç•ªèŒ„é’Ÿç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ project/   # é¡¹ç›®ç®¡ç†ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ views/         # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ stores/        # PiniaçŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ utils/         # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ assets/        # é™æ€èµ„æº
â”‚   â”‚   â””â”€â”€ router/        # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ public/            # å…¬å…±é™æ€æ–‡ä»¶
â”‚   â””â”€â”€ tests/             # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ docs/                  # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ requirements/      # éœ€æ±‚æ–‡æ¡£
â”‚   â”œâ”€â”€ design/           # è®¾è®¡æ–‡æ¡£
â”‚   â”œâ”€â”€ api/              # APIæ–‡æ¡£
â”‚   â””â”€â”€ user-guide/       # ç”¨æˆ·æŒ‡å—
â”œâ”€â”€ scripts/              # æ„å»ºéƒ¨ç½²è„šæœ¬
â””â”€â”€ docker/               # Dockeré…ç½®
```

## ğŸ¯ å¼€å‘å·¥ä½œæµ

### åŠŸèƒ½å¼€å‘æµç¨‹
1. **éœ€æ±‚åˆ†æ** â†’ åœ¨ `docs/requirements/` åˆ›å»ºéœ€æ±‚æ–‡æ¡£
2. **è®¾è®¡é˜¶æ®µ** â†’ åœ¨ `docs/design/` åˆ›å»ºè®¾è®¡æ–‡æ¡£
3. **APIè®¾è®¡** â†’ åœ¨ `docs/api/` å®šä¹‰æ¥å£è§„èŒƒ
4. **åç«¯å¼€å‘** â†’ å…ˆå†™æ¨¡å‹å’ŒæœåŠ¡ï¼Œå†å†™API
5. **å‰ç«¯å¼€å‘** â†’ å…ˆå†™ç±»å‹å®šä¹‰ï¼Œå†å†™ç»„ä»¶
6. **æµ‹è¯•ç¼–å†™** â†’ å•å…ƒæµ‹è¯• + é›†æˆæµ‹è¯•
7. **æ–‡æ¡£æ›´æ–°** â†’ æ›´æ–°ç”¨æˆ·æŒ‡å—å’ŒAPIæ–‡æ¡£

### Gitæäº¤è§„èŒƒ
```bash
# æäº¤æ ¼å¼ï¼štype(scope): description
feat(pomodoro): æ·»åŠ ç•ªèŒ„é’Ÿæ ¸å¿ƒè®¡æ—¶åŠŸèƒ½
fix(api): ä¿®å¤ç”¨æˆ·è®¤è¯tokenè¿‡æœŸé—®é¢˜
docs(requirements): æ›´æ–°Pomodoroéœ€æ±‚æ–‡æ¡£
style(frontend): ç»Ÿä¸€ç»„ä»¶æ ·å¼è§„èŒƒ
refactor(backend): é‡æ„æ•°æ®åº“è¿æ¥å±‚
test(pomodoro): æ·»åŠ è®¡æ—¶å™¨å•å…ƒæµ‹è¯•
```

### åˆ†æ”¯ç®¡ç†
- `main` - ä¸»åˆ†æ”¯ï¼Œå§‹ç»ˆä¿æŒå¯éƒ¨ç½²çŠ¶æ€
- `develop` - å¼€å‘åˆ†æ”¯ï¼ŒåŠŸèƒ½é›†æˆ
- `feature/xxx` - åŠŸèƒ½åˆ†æ”¯
- `hotfix/xxx` - ç´§æ€¥ä¿®å¤åˆ†æ”¯

## ğŸ“‹ ä»£ç è´¨é‡æ ‡å‡†

### å¿…é¡»éµå¾ª
- [ ] æ‰€æœ‰å¯¼å‡ºå‡½æ•°/æ–¹æ³•å¿…é¡»æœ‰æ³¨é‡Š
- [ ] é”™è¯¯å¤„ç†ä¸èƒ½å¿½ç•¥ï¼ˆGoï¼‰
- [ ] ç»„ä»¶å¿…é¡»æœ‰PropTypes/ç±»å‹å®šä¹‰ï¼ˆVueï¼‰
- [ ] æ•°æ®åº“æ“ä½œå¿…é¡»å¤„ç†äº‹åŠ¡
- [ ] APIå“åº”å¿…é¡»åŒ…å«é”™è¯¯ç å’Œæ¶ˆæ¯
- [ ] æ•æ„Ÿä¿¡æ¯ä¸èƒ½ç¡¬ç¼–ç 

### æ¨èå®è·µ
- ä½¿ç”¨dependency injectionæ¨¡å¼
- å®ç°graceful shutdown
- æ·»åŠ å¥åº·æ£€æŸ¥ç«¯ç‚¹
- ä½¿ç”¨ç»“æ„åŒ–æ—¥å¿—
- å®ç°è¯·æ±‚é“¾è·¯è¿½è¸ª
- æ·»åŠ æ€§èƒ½ç›‘æ§

## ğŸ§ª æµ‹è¯•ç­–ç•¥

### åç«¯æµ‹è¯•
```go
// å•å…ƒæµ‹è¯•æ–‡ä»¶ï¼š*_test.go
func TestPomodoroService_CreateSession(t *testing.T) {
    // Given
    service := NewPomodoroService()
    
    // When
    session, err := service.CreateSession(context.Background(), 25*60)
    
    // Then
    assert.NoError(t, err)
    assert.Equal(t, 25*60, session.Duration)
}
```

### å‰ç«¯æµ‹è¯•
```typescript
// ç»„ä»¶æµ‹è¯•ï¼š*.spec.ts
describe('PomodoroTimer', () => {
  it('should start timer when button clicked', async () => {
    const wrapper = mount(PomodoroTimer)
    await wrapper.find('.start-button').trigger('click')
    expect(wrapper.vm.isRunning).toBe(true)
  })
})
```

## ğŸ”’ å®‰å…¨è§„èŒƒ
- ä½¿ç”¨HTTPSè¿›è¡Œé€šä¿¡
- JWT tokenå®šæœŸåˆ·æ–°
- è¾“å…¥æ•°æ®éªŒè¯å’Œæ¸…ç†
- SQLæ³¨å…¥é˜²æŠ¤ï¼ˆGORMå‚æ•°åŒ–æŸ¥è¯¢ï¼‰
- XSSé˜²æŠ¤ï¼ˆå‰ç«¯è¾“å‡ºè½¬ä¹‰ï¼‰
- CORSæ­£ç¡®é…ç½®
- æ•æ„Ÿæ“ä½œå¢åŠ äºŒæ¬¡éªŒè¯

## ğŸ“– æ–‡æ¡£è§„èŒƒ
- **éœ€æ±‚æ–‡æ¡£**ï¼šä½¿ç”¨ç”¨æˆ·æ•…äº‹æ ¼å¼
- **APIæ–‡æ¡£**ï¼šä½¿ç”¨OpenAPI 3.0è§„èŒƒ
- **ä»£ç æ³¨é‡Š**ï¼šä¸­æ–‡è¯´æ˜ï¼Œå…³é”®é€»è¾‘è¯¦ç»†æ³¨é‡Š
- **README**ï¼šä¿æŒæ›´æ–°ï¼ŒåŒ…å«å¿«é€Ÿå¼€å§‹æŒ‡å—
- **CHANGELOG**ï¼šè®°å½•æ¯ä¸ªç‰ˆæœ¬çš„å˜æ›´

## ğŸš€ éƒ¨ç½²è§„èŒƒ
- ä½¿ç”¨Dockerå®¹å™¨åŒ–éƒ¨ç½²
- ç¯å¢ƒå˜é‡ç®¡ç†é…ç½®
- æ•°æ®åº“è¿ç§»è‡ªåŠ¨åŒ–
- å¥åº·æ£€æŸ¥å’Œç›‘æ§
- æ—¥å¿—æ”¶é›†å’Œåˆ†æ
- å¤‡ä»½ç­–ç•¥åˆ¶å®š

---

**è®°ä½**ï¼šä»£ç æ˜¯å†™ç»™äººçœ‹çš„ï¼Œåªæ˜¯é¡ºä¾¿èƒ½åœ¨æœºå™¨ä¸Šè¿è¡Œã€‚ä¿æŒä»£ç ç®€æ´ã€å¯è¯»ã€å¯ç»´æŠ¤ã€‚
